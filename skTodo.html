<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>SK's Todo app</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="SK">

    <!-- styles -->
	<link href="assets/styles/todo.less" rel="stylesheet/less" type="text/css" />
	<script src="assets/less.js" type="text/javascript"></script>
    
    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="shortcut icon" href="assets/ico/favicon.ico">
  </head>

<body class="sk">
	<div id="app"></div>
    <script data-dojo-config="async: false"
            src="../dojo/dojo.js"></script>
    <script>
		require([
			'sktodos/model/app/Main',
			'sktodos/ui/Main'
		], function(
			MainManager,
			MainView
		){
			var mainMngr = window.mainMngr = new MainManager();
			
			// Test data
			var tag1 = window.tag1 = mainMngr.tagList.createTag({label: 'Test'});
			var tag2 = mainMngr.tagList.createTag({label: 'Toto'});
			mainMngr.tagList.getChild(tag1).select();
			mainMngr.createTodo({label: 'Faire ci'});
			mainMngr.createTodo({label: 'Faire Ã§a'});
			mainMngr.createTodo({label: "Ca c'est fait", checked: true});
			mainMngr.tagList.getChild(tag1).select();
			
			// Binds a UI to the component
			new MainView({}, 'app').set('model', mainMngr);
		});
	</script>
</body>
</html>